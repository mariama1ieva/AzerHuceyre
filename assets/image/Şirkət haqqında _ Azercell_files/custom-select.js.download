function customJsSelect () {
	for (const dropdown of document.querySelectorAll(".custom-select-wrapper")) {
		dropdown.addEventListener('click', function() {
			this.querySelector('.custom-select').classList.toggle('open');
		})
	}

	for (const option of document.querySelectorAll(".custom-option")) {
		option.addEventListener('click', function () {
			if (!this.classList.contains('selected')) {
				if(this.parentNode.querySelector('.custom-option.selected')){
					this.parentNode.querySelector('.custom-option.selected').classList.remove('selected');
				}
				this.classList.add('selected');
				this.closest('.custom-select').querySelector('.custom-select__trigger input').value  = this.textContent;
				let currentSelectValue = this.closest('.custom-select').querySelector('.custom-select__trigger [data-hidden-value="custom-select-value"]');
				if(currentSelectValue){
					currentSelectValue.value = this.getAttribute('data-value');
					let event = new Event('change');
					currentSelectValue.dispatchEvent(event)
				}
			}
		})
	}

	window.addEventListener('click', function(e) {
		for (const select of document.querySelectorAll('.custom-select')) {
			if (!select.contains(e.target)) {
				select.classList.remove('open');
			}
		}
	});
}
document.addEventListener("DOMContentLoaded", _=>customJsSelect());